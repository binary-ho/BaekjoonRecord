# [Platinum V] 개미 - 14942 

기분이 너무 좋다. <Br>
새벽에 한 문제만 풀고 자야지 했다가 아이디어가 안 떠올라서 누웠던 문제 <br>
결국 어떤 지점까지 도달하기 위한 경로의 누적합을 가지고 있어야 한다는 느낌만 가지고, 이런 저런 아이디어들을 생각해 봤는데 시간 복잡도나 공간 복잡도에서 계속 문제였다. <br>
방이 10만개나 되므로, 각 방에서 도착 가능한 방을 찾을 때, 거쳐온 방의 리스트를 모두 가지고 있고, 그 안에서 이분탐색할 궁리를 했다. <br>
쉽게 해답이 떠오르지 않다가, 잠이 들랑 말랑 할 떄 **어떤 지점까지의 경로라면 dfs를 수행하면서 경로를 가지고 있으면 어떨까라는 생각이 들었다.** <br>
그 뒤부터 하나의 벡터를 이용하자는 생각은 금방 떠올랐다. 하지만 너무 졸립고 아침에 학교를 가야 했으므로, 핸드폰 메모장에 급하게 생각나는 풀이를 적어 보았다. <br>
벡터에 굴의 누적합만을 저장하고, 백터 index에 대응하는 굴 번호는 따로 저장한 다음, <Br> 
`찾는 값 = 누적합 - 지금 있는 방의 개미가 가진 에너지`로 하여 이분탐색인 lower_bound를 사용할 생각을 떠올렸다. 
어차피 누적합은 무조건 오름차순 정렬이므로, lower_bound 사용이 가능해 보였기 때문이다. <Br>
그리고 수업이 끝나고 다음 수업 사이의 잠깐 여유인 지금 단 한번에 문제를 풀어냈다! 기분이 너무 좋다. 물론 까다로운 케이스가 없어서 그런 것일 수도 있다 <br>
잊지 말자, 특정 경로 정보를 계속 알고 있어야 하면 dfs를 고려해볼 것! <br> 
이걸로 class 6를 얻어냈다!



[문제 링크](https://www.acmicpc.net/problem/14942) 

### 성능 요약

메모리: 9328 KB, 시간: 196 ms

### 분류

자료 구조(data_structures), 깊이 우선 탐색(dfs), 그래프 이론(graphs), 그래프 탐색(graph_traversal), 희소 배열(sparse_table)

### 문제 설명

<p>개미집은 n개의 방으로 구성되어 있으며 n개의 방은 1번부터 n번 까지 번호가 부여되어 있다. 그 중에서 1번 방은 지면에 바로 연결되어 있는 방이다. 각 방들은 서로 굴을 통해 연결되어 있다. 각 굴을 이동하기 위해서는 굴의 길이만큼 에너지가 소모된다.</p>

<p>개미는 집짓기의 달인이기 때문에 불필요한 굴은 짓지 않는다. 그래서 굴을 타고 한 방에서 다른 방으로 갈 수 있는 경로는 항상 존재하며 유일하다. 임의의 두 방 사이의 거리는 두 개의 방을 연결하는 경로를 구성하는 굴의 길이의 합이다.</p>

<p>겨울잠을 자던 개미들은 겨울잠에서 깨어나 지면으로 올라가 햇살을 보고 싶어한다. 그렇기 때문에 지면과 연결된 1번 방으로 이동을 하려고 한다. 하지만 불행하게도 개미는 긴 겨울잠을 자느라 축적해 놓은 에너지가 적다. 그래서 개미는 에너지를 1번 방에 도달하기 전에 모두 소모 할 수도 있다. 이렇게 에너지가 0이 된 개미는 더 이상 움직일 수 없다. 또한 1번 방에 도착한 개미는 더 이상 움직이지 않는다.</p>

<p>현재 모든 방에는 개미가 한 마리씩 있고 각각의 개미는 각자 축적된 에너지를 가지고 있다. 잠에서 깨어난 모든 개미는 1번 방을 향해서 이동한다. 이때 각각의 개미에 대해 도달할 수 있는 방 중에서 가장 1번 방에 가까운 방의 번호를 출력하시오.</p>

### 입력 

 <p>자연수 n이 주어진다. n은 방의 개수이다. (1 ≤ n ≤ 10<sup>5</sup>) 다음 n개의 줄에는 차례대로 현재 각각의 개미가 보유하고 있는 에너지 값이 주어진다. i+1번째 줄에는 i번째 방에 있는 개미가 가진 에너지를 나타내는 100,000이하의 자연수 값이 주어진다. 이후 n-1개의 줄에는 두 개의 방을 연결하는 굴의 정보가 3개의 정수 a b c 으로 주어진다. a, b는 연결된 방을 의미하고 c는 이 굴의 길이를 의미한다. 굴의 길이는 10,000 이하의 자연수이다.</p>

### 출력 

 <p>n개의 줄을 출력한다. i번째 줄에는 i번 방에 있던 개미가 도달할 수 있는 방 중에 1번 방과 가장 가까운 방의 번호를 출력한다.</p>

